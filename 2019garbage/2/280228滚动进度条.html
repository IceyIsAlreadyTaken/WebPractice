<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
  .progress {
    border:2px solid blue;
    /* height: 30px; */
    width:500px;
    position:fixed;
    top:10px;
    right:10px;
  }
  .progress > div {
    height:18px;
    background:blue;
    width:0%;
    color:red;
  }
  body{
    height:2000px;
    /* margin:0px; */
  }
  </style>
</head>
<body>
  <div class = "progress">
    <div>0%</div>
  </div>
  <script>
    var bar = document.querySelector('.progress>div')
    addEventListener('scroll',function(){
      var max = document.body.scrollHeight - innerHeight + 16 //marging高度
       //innerHeight 页面高度 scrollHeight 滚动条高度
      console.log('滚轮高度'+ document.body.scrollHeight,'页面高度'+innerHeight,'滚动条高度' + pageYOffset)
      var percent = (scrollY / max) * 100 
      //pageYOffset 返回文档在垂直方向已滚动的像素值。
      bar.style.width = percent + '%'
      bar.innerText = Math.round(percent) + '%'
      
    })

    //grogress.js 进度条库
  </script>
</body>
</html>